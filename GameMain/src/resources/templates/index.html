<!DOCTYPE html>
<html>
	<head>
	</head>
	<body>
		<h1>Quest</h1>
		<script>
		var xhr = new XMLHttpRequest();
		function getPlayerList(){
			xhr.onreadystatechange = function(){
				if(xhr.readyState == XMLHttpRequest.DONE && xhr.status == 200) {
        			// Request finished. Do processing here.
        			console.log(xhr.response);
    			}	
			}
			xhr.open("GET", "playerList");
			xhr.send();
		}


		function addNewPlayer(){
			xhr.onreadystatechange = function() {//Call a function when the state changes.
    			if(xhr.readyState == XMLHttpRequest.DONE && xhr.status == 200) {
        			// Request finished. Do processing here.
        			console.log(xhr.response);
        			getPlayerList();
    			}	
			}
			xhr.open("POST", "addNewPlayer", true);
			var un = document.getElementById('userName').value;
			xhr.setRequestHeader('Content-Type', 'application/json');
			xhr.send(JSON.stringify({name: un}));
		}
		</script>
		<input id="userName" type="text"></input>
		<button onclick="addNewPlayer()">Make New Game</button>
	</body>
</html>